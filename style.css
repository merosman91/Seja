:root {
  --bg: #f6efe1;
  --card: #fff;
  --accent: #3f2f19;
  --sand1: #e6d4b8;
  --sand2: #d5b788;
  --cell: #d9b98b;
  --legal: #cfe8c9;
  --capture: #9be07a;
  --selected: #ffdca1;
  --xcell: #d6c0b0;
}

/* منع السحب الجانبي ولتوسيط المحتوى */
* { box-sizing: border-box; margin: 0; padding: 0; }
html, body { height: 100%; width: 100%; overflow-x: hidden; }
body {
  font-family: "Cairo", sans-serif;
  background: linear-gradient(135deg, var(--bg), #fbf8f2);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
  color: var(--accent);
}

/* احفظ عرض اللوح مع جعل الصفحة مركزية وقابلة للعرض على الموبايل */
.outer { width: 100%; display:flex; justify-content:center; }
.wrap {
  width: 100%;
  max-width: 820px; /* يكفي لعرض 9 أعمدة */
  background: var(--card);
  border-radius: 14px;
  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.12);
  padding: 16px;
  margin: auto;
}

/* رأس الصفحة */
.topbar { display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap; gap:10px; margin-bottom:8px; }
h1 { margin: 0; font-size: 20px; flex: 1; text-align: center; }
.controls { display:flex; align-items:center; gap:8px; flex-wrap:wrap; justify-content:center; }
.controls select, .controls button { padding:6px 10px; border-radius:8px; border:1px solid #e0d3b8; }
.controls button { background:var(--accent); color:white; cursor:pointer; }
.sound-label { font-size:13px; display:flex; align-items:center; gap:6px; }

/* شريط الحالة */
.statusbar { display:flex; justify-content:space-between; align-items:center; gap:12px; margin: 8px 0; }
.player { display:flex; flex-direction:column; align-items:center; font-weight:700; min-width:120px; }
.dot { width:22px; height:22px; border-radius:50%; margin-bottom:6px; border:2px solid rgba(0,0,0,0.1); }
.dot.black { background:#222; } .dot.white { background:#fafafa; border:1px solid #666; }
.center { text-align:center; } #turnInfo { font-weight:800; } .hint { font-size:13px; color:#5b4630; margin-top:6px; }

/* اللوح: 9 أعمدة × 5 صفوف */
.board {
  display: grid;
  grid-template-columns: repeat(9, 64px);
  grid-template-rows: repeat(5, 64px);
  gap: 8px;
  justify-content: center;
  margin: 8px auto 12px;
  background: linear-gradient(180deg, var(--sand1), var(--sand2));
  border-radius: 10px;
  box-shadow: inset 0 3px 6px rgba(0,0,0,0.05);
  padding: 12px;
}

/* الخانات */
.cell {
  width:64px; height:64px; border-radius:10px;
  background: linear-gradient(180deg, #ecd9b6, #e3c391);
  border:2px solid rgba(63,47,25,0.08);
  display:flex; align-items:center; justify-content:center; position:relative; cursor:pointer;
  transition: transform .12s ease, box-shadow .12s ease, background .12s;
}
.cell:hover { transform: translateY(-4px); box-shadow: 0 10px 20px rgba(0,0,0,0.08); }

/* القطع */
.piece { width:46px; height:46px; border-radius:50%; box-shadow:0 8px 14px rgba(0,0,0,0.12); }
.p1 { background: linear-gradient(180deg,#0b0b0b,#333); }
.p2 { background: linear-gradient(180deg,#ffffff,#e8e8e8); border:1px solid #bdbdbd; }

/* تمييز الحركات */
.cell.legal { background: var(--legal); }
.cell.capture { background: var(--capture); }
.cell.selected { background: var(--selected); box-shadow: 0 12px 22px rgba(0,0,0,0.12); }

/* مربع الفاصل X */
.cell.xcell { background: linear-gradient(180deg,var(--xcell),#c9b49f); cursor: default; }
.cell.xcell::after { content: "X"; font-weight:800; color:#6b4f3b; font-size:20px; }

/* وسائط المساعدة */
.legend { display:flex; gap:12px; justify-content:center; margin-bottom:10px; color:#5a4632; flex-wrap:wrap; }
.leg-box { display:inline-block; width:18px; height:18px; border-radius:4px; border:1px solid rgba(0,0,0,0.06); vertical-align:middle; margin-inline-start:6px; }
.leg-box.legal { background:var(--legal); } .leg-box.capture { background:var(--capture); } .leg-box.selected { background:var(--selected); } .leg-box.xcell { background:var(--xcell); display:flex; align-items:center; justify-content:center; font-weight:800; color:#6b4f3b; }

/* التعليمات والتذييل */
.instructions { background:#fff7e9; border-radius:10px; padding:12px; color:#4b3523; font-size:14px; margin-top:8px; }
.instructions h3 { margin:0 0 6px 0; }
.footer { text-align:center; color:#6b553f; font-size:13px; margin-top:10px; }
.footer a { color:var(--accent); text-decoration:none; font-weight:700; }

/* قابلية الاستجابة */
@media (max-width:720px){
  .board { grid-template-columns: repeat(9, 44px); grid-template-rows: repeat(5, 44px); gap:6px; padding:8px; }
  .cell { width:44px; height:44px; }
  .piece { width:34px; height:34px; }
  .wrap { padding:12px; }
           }
