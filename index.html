<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù„Ø¹Ø¨Ø© Ø§Ù„Ø³ÙŠØ¬Ø© Ø§Ù„Ø³ÙˆØ¯Ø§Ù†ÙŠØ©</title>
<style>
  body {
    background: linear-gradient(to bottom, #f8f8f8, #e0cda9);
    font-family: "Cairo", sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: 0;
    height: 100vh;
    justify-content: center;
    overflow: hidden;
  }

  h1 {
    font-size: 1.8rem;
    color: #4b2e05;
    margin-bottom: 10px;
    text-shadow: 1px 1px 3px #fff;
  }

  #gameContainer {
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  #board {
    display: grid;
    grid-template-columns: repeat(9, minmax(30px, 9vw));
    grid-template-rows: repeat(9, minmax(30px, 9vw));
    gap: 2px;
    background-color: #4b2e05;
    border: 5px solid #4b2e05;
    border-radius: 10px;
    touch-action: manipulation;
  }

  .cell {
    background-color: #f2e6d0;
    border-radius: 4px;
    position: relative;
  }

  .piece {
    width: 80%;
    height: 80%;
    border-radius: 50%;
    position: absolute;
    top: 10%;
    left: 10%;
    transition: transform 0.3s;
  }

  .white { background: radial-gradient(circle, #fff, #ccc); }
  .black { background: radial-gradient(circle, #222, #000); }

  .highlight {
    background-color: rgba(255, 255, 0, 0.4);
  }

  #controls {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    margin-top: 10px;
    gap: 8px;
  }

  button {
    background-color: #4b2e05;
    color: #fff;
    border: none;
    border-radius: 8px;
    padding: 8px 12px;
    font-size: 0.9rem;
    cursor: pointer;
    transition: background 0.3s;
  }

  button:hover {
    background-color: #8b5e1a;
  }

  #scoreboard {
    display: flex;
    justify-content: space-around;
    width: 80%;
    margin-top: 10px;
    color: #4b2e05;
    font-size: 1rem;
    font-weight: bold;
  }

  footer {
    margin-top: 15px;
    font-size: 0.8rem;
    color: #333;
  }

  footer a {
    color: #4b2e05;
    text-decoration: none;
    font-weight: bold;
  }

  @media (max-width: 600px) {
    #board {
      grid-template-columns: repeat(9, 10vw);
      grid-template-rows: repeat(9, 10vw);
    }
    button {
      font-size: 0.8rem;
      padding: 6px 10px;
    }
  }
</style>
</head>
<body>

<h1>ğŸŒ€ Ù„Ø¹Ø¨Ø© Ø§Ù„Ø³ÙŠØ¬Ø© Ø§Ù„Ø³ÙˆØ¯Ø§Ù†ÙŠØ©</h1>

<div id="gameContainer">
  <div id="board"></div>
  <div id="scoreboard">
    <span>Ù†Ù‚Ø§Ø· Ø§Ù„Ø£Ø¨ÙŠØ¶: <span id="whiteScore">0</span></span>
    <span>Ù†Ù‚Ø§Ø· Ø§Ù„Ø£Ø³ÙˆØ¯: <span id="blackScore">0</span></span>
  </div>
  <div id="controls">
    <button id="undoBtn">â†©ï¸ ØªØ±Ø§Ø¬Ø¹</button>
    <button id="resetBtn">ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø©</button>
    <button id="soundBtn">ğŸ”ˆ ÙƒØªÙ… Ø§Ù„Ø£ØµÙˆØ§Øª</button>
    <button id="aiBtn">ğŸ¤– Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù„Ø¹Ø¨ Ù…Ø¹ Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±</button>
  </div>
</div>

<footer>
  ØªØµÙ…ÙŠÙ… <a href="mailto:merghanigasimosman@gmail.com">Ù…ÙŠØ±ØºÙ†ÙŠ Ø£Ø¨ÙˆØ§Ù„Ù‚Ø§Ø³Ù… Ø¹Ø«Ù…Ø§Ù†</a> â€“ Ù…Ø³ØªÙˆØ­Ø§Ø© Ù…Ù† Ø§Ù„ØªØ±Ø§Ø« Ø§Ù„Ø³ÙˆØ¯Ø§Ù†ÙŠ
</footer>

<script>
const board = document.getElementById("board");
const whiteScoreEl = document.getElementById("whiteScore");
const blackScoreEl = document.getElementById("blackScore");
let soundOn = true;

const eatSound = new Audio("https://assets.mixkit.co/sfx/preview/mixkit-game-ball-tap-2073.mp3");
const moveSound = new Audio("https://assets.mixkit.co/sfx/preview/mixkit-game-click-1114.mp3");

let boardState = [];
const size = 9;

function initBoard() {
  board.innerHTML = "";
  boardState = [];

  for (let r = 0; r < size; r++) {
    let row = [];
    for (let c = 0; c < size; c++) {
      const cell = document.createElement("div");
      cell.classList.add("cell");
      cell.dataset.row = r;
      cell.dataset.col = c;
      board.appendChild(cell);
      row.push(null);
    }
    boardState.push(row);
  }

  // ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù‚Ø·Ø¹: ØµÙÙŠÙ† + ØµÙ Ø«Ø§Ù„Ø« Ø¬Ø²Ø¦ÙŠ Ù„ÙƒÙ„ Ù„Ø§Ø¹Ø¨
  for (let r = 0; r < 3; r++) {
    for (let c = 0; c < size; c++) {
      if (r === 2 && (c < 2 || c > 6)) continue;
      placePiece(r, c, "black");
    }
  }

  for (let r = size - 3; r < size; r++) {
    for (let c = 0; c < size; c++) {
      if (r === size - 3 && (c < 2 || c > 6)) continue;
      placePiece(r, c, "white");
    }
  }

  // Ø§Ù„Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø£ÙˆØ³Ø· X
  const mid = Math.floor(size / 2);
  const midCell = board.querySelector(`.cell[data-row="${mid}"][data-col="${mid}"]`);
  midCell.textContent = "X";
  midCell.style.color = "red";
  midCell.style.fontWeight = "bold";
}

function placePiece(r, c, color) {
  const piece = document.createElement("div");
  piece.classList.add("piece", color);
  board.children[r * size + c].appendChild(piece);
  boardState[r][c] = color;
}

initBoard();
</script>

</body>
  </html>
